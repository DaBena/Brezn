# Brezn Mobile - Dezentrale anonyme Feed-App

## üöÄ √úbersicht

Brezn Mobile ist eine React Native-Implementierung der Brezn-Plattform, die dezentrale anonyme Feeds erm√∂glicht. Diese App integriert nahtlos mit dem Rust-basierten Brezn-Backend √ºber eine performante FFI-Schnittstelle.

## ‚ú® Features

- **üîí Anonyme Posts**: Erstellen und teilen Sie anonyme Beitr√§ge
- **üåê P2P-Netzwerk**: Dezentrale Kommunikation ohne zentrale Server
- **üïµÔ∏è Tor-Integration**: Anonyme Verbindungen √ºber das Tor-Netzwerk
- **üì± Cross-Platform**: Unterst√ºtzt Android und iOS
- **‚ö° Performance**: Optimierte FFI-Integration f√ºr maximale Geschwindigkeit
- **üîç Peer-Discovery**: QR-Code-basierte Peer-Entdeckung
- **üìä Echtzeit-Updates**: Live-Updates √ºber Event-System

## üèóÔ∏è Architektur

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                BreznNativeModuleWrapper                    ‚îÇ
‚îÇ                    (TypeScript)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              Native Module Bridge                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ  ‚îÇ   Android       ‚îÇ  ‚îÇ      iOS        ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ   (Kotlin)      ‚îÇ  ‚îÇ    (Swift)      ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    JNI/FFI Layer                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ  ‚îÇ   Android NDK   ‚îÇ  ‚îÇ   iOS FFI       ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    Rust Backend                           ‚îÇ
‚îÇ                (libbrezn.so/.a)                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è Installation

### Voraussetzungen

- **Rust**: 1.70+
- **Node.js**: 18+
- **React Native**: 0.72+
- **Android NDK**: F√ºr Android-Builds
- **Xcode**: F√ºr iOS-Builds

### Schnellstart

```bash
# Repository klonen
git clone https://github.com/your-org/brezn.git
cd brezn/mobile

# Dependencies installieren
npm install

# Build-Skript ausf√ºhrbar machen
chmod +x scripts/build_mobile.sh

# Kompletten Build durchf√ºhren
./scripts/build_mobile.sh
```

### Einzelne Build-Schritte

```bash
# Nur Rust FFI bauen
./scripts/build_mobile.sh build-rust

# Android-Umgebung einrichten
./scripts/build_mobile.sh setup-android

# iOS-Umgebung einrichten
./scripts/build_mobile.sh setup-ios

# Dependencies installieren
./scripts/build_mobile.sh install

# Tests ausf√ºhren
./scripts/build_mobile.sh test
```

## üì± Verwendung

### Grundlegende Integration

```typescript
import { breznNative } from './src/native/BreznNativeModule';

// App initialisieren
const initApp = async () => {
  try {
    // FFI initialisieren
    await breznNative.init(8080, 9050);
    
    // App starten
    await breznNative.start();
    
    console.log('Brezn app started successfully');
  } catch (error) {
    console.error('Failed to start app:', error);
  }
};
```

### Posts verwalten

```typescript
// Post erstellen
const createPost = async (content: string, pseudonym: string) => {
  const result = await breznNative.createPost(content, pseudonym);
  if (result) {
    console.log('Post created successfully');
  }
};

// Posts abrufen
const getPosts = async () => {
  const posts = await breznNative.getPosts();
  console.log(`Retrieved ${posts.length} posts`);
  return posts;
};
```

### Netzwerk-Funktionen

```typescript
// Netzwerk-Status abrufen
const getNetworkStatus = async () => {
  const status = await breznNative.getNetworkStatus();
  console.log(`Network: ${status.networkEnabled}, Tor: ${status.torEnabled}`);
  console.log(`Peers: ${status.peersCount}, Discovery: ${status.discoveryPeersCount}`);
  return status;
};

// Tor aktivieren/deaktivieren
const toggleTor = async (enable: boolean) => {
  if (enable) {
    await breznNative.enableTor();
    console.log('Tor enabled');
  } else {
    await breznNative.disableTor();
    console.log('Tor disabled');
  }
};
```

### Event-Handling

```typescript
// Event-Listener hinzuf√ºgen
const setupEventListeners = () => {
  const postSubscription = breznNative.addEventListener(
    'post_created',
    (data) => {
      console.log('New post created:', data);
    }
  );

  const networkSubscription = breznNative.addEventListener(
    'network_status_changed',
    (data) => {
      console.log('Network status changed:', data);
    }
  );

  // Cleanup-Funktion zur√ºckgeben
  return () => {
    postSubscription.remove();
    networkSubscription.remove();
  };
};
```

## üß™ Testing

### Performance-Tests

```typescript
import { runPerformanceTests } from './src/tests/PerformanceTests';

// Performance-Tests ausf√ºhren
const runTests = async () => {
  try {
    const report = await runPerformanceTests();
    console.log('Performance test report:', report);
  } catch (error) {
    console.error('Performance tests failed:', error);
  }
};
```

### Unit-Tests

```bash
# Tests ausf√ºhren
npm test

# Tests im Watch-Modus
npm run test:watch

# Coverage-Report generieren
npm run test:coverage
```

## üöÄ Deployment

### Android

```bash
# Release-Build erstellen
npm run build:android

# Debug-Build f√ºr Tests
npm run test:android
```

### iOS

```bash
# Release-Build erstellen
npm run build:ios

# Debug-Build f√ºr Tests
npm run test:ios
```

## üìä Performance

Die Mobile-FFI-Integration ist f√ºr maximale Performance optimiert:

- **Asynchrone Operationen**: Alle FFI-Aufrufe sind nicht-blockierend
- **Memory Management**: Automatische Speicherverwaltung
- **Batch-Operationen**: Effiziente Verarbeitung mehrerer Operationen
- **Event-System**: Echtzeit-Updates ohne Polling
- **Native Code**: Direkte Ausf√ºhrung im nativen Thread

### Benchmarks

- **Post-Erstellung**: ~5ms pro Post
- **Post-Abruf**: ~10ms f√ºr 1000 Posts
- **Netzwerk-Status**: ~2ms pro Abfrage
- **QR-Code-Generierung**: ~15ms pro Code
- **Tor-Operationen**: ~100ms f√ºr Enable/Disable

## üîß Konfiguration

### Umgebungsvariablen

```bash
# Android NDK
export ANDROID_NDK_HOME=/path/to/android-ndk

# Rust Toolchain
export RUST_BACKTRACE=1

# Debug-Modus
export BREZN_DEBUG=1
```

### Build-Konfiguration

```json
// package.json
{
  "scripts": {
    "android": "react-native run-android",
    "ios": "react-native run-ios",
    "start": "react-native start",
    "test": "jest",
    "build:android": "cd android && ./gradlew assembleRelease",
    "build:ios": "cd ios && xcodebuild -workspace Brezn.xcworkspace -scheme Brezn -configuration Release archive",
    "build:mobile": "./scripts/build_mobile.sh all"
  }
}
```

## üêõ Troubleshooting

### H√§ufige Probleme

#### FFI-Initialisierung schl√§gt fehl

```bash
# Rust-Version pr√ºfen
rustc --version

# Dependencies aktualisieren
cargo update

# Clean build
cargo clean
cargo build --release
```

#### Android NDK-Fehler

```bash
# NDK-Pfad setzen
export ANDROID_NDK_HOME=/path/to/android-ndk

# Gradle-Cache l√∂schen
cd android
./gradlew clean
```

#### iOS Build-Fehler

```bash
# Xcode-Command-Line-Tools installieren
xcode-select --install

# Pods aktualisieren
cd ios
pod install
```

### Debug-Logs

```typescript
// Debug-Modus aktivieren
if (__DEV__) {
  console.log('Debug mode enabled');
  
  // Native Module-Status pr√ºfen
  console.log('Module initialized:', breznNative.isModuleInitialized());
  
  // Performance-Metriken abrufen
  const metrics = await breznNative.getPerformanceMetrics();
  console.log('Performance metrics:', metrics);
}
```

## üìö Dokumentation

- **[Mobile Integration Guide](docs/MOBILE_INTEGRATION.md)**: Detaillierte Anleitung zur Integration
- **[API Reference](docs/API_REFERENCE.md)**: Vollst√§ndige API-Dokumentation
- **[Performance Guide](docs/PERFORMANCE.md)**: Performance-Optimierung
- **[Troubleshooting](docs/TROUBLESHOOTING.md)**: L√∂sungen f√ºr h√§ufige Probleme

## ü§ù Beitragen

Wir freuen uns √ºber Beitr√§ge! Bitte lesen Sie [CONTRIBUTING.md](../CONTRIBUTING.md) f√ºr Richtlinien.

### Entwicklung

```bash
# Repository forken und klonen
git clone https://github.com/your-username/brezn.git

# Feature-Branch erstellen
git checkout -b feature/mobile-enhancement

# √Ñnderungen committen
git commit -m "feat: enhance mobile FFI integration"

# Pull Request erstellen
git push origin feature/mobile-enhancement
```

## üìÑ Lizenz

Dieses Projekt steht unter der GPL-3.0-Lizenz. Siehe [LICENSE](../LICENSE) f√ºr Details.

## üÜò Support

Bei Fragen oder Problemen:

1. **Issues**: [GitHub Issues](https://github.com/your-org/brezn/issues) verwenden
2. **Discussions**: [GitHub Discussions](https://github.com/your-org/brezn/discussions) f√ºr allgemeine Fragen
3. **Wiki**: [Projekt-Wiki](https://github.com/your-org/brezn/wiki) f√ºr detaillierte Anleitungen
4. **Community**: Community-Chat f√ºr schnelle Hilfe

## üôè Danksagungen

- **React Native Team**: F√ºr das gro√üartige Framework
- **Rust Community**: F√ºr die sichere und performante Sprache
- **Tor Project**: F√ºr die Anonymit√§ts-Technologie
- **Alle Mitwirkenden**: F√ºr Beitr√§ge und Feedback

---

**Brezn Mobile** - Dezentrale anonyme Feeds f√ºr alle! üöÄ